{
  "variables": {
    "network": ""
  },
  "builders":
  [{
    "type": "openstack",
    "image_name": "Guacamole-ubuntu18 ({{isotime `2006-01-02`}})",
    "source_image_filter": {
      "filters": {
        "tags": ["{{user `base_image_tag`}}"],
        "properties": {
          "os_distro": "ubuntu",
          "os_version": "1804"
        }
      },
      "most_recent": true
    },
    "networks": "{{user `network`}}",
    "flavor": "de.NBI tiny",
    "ssh_username": "ubuntu",
    "image_tags": ["{{user `guacamole_tag`}}"],
    "metadata": {
      "template_name": "guacamole",
      "is_maintained": "True",
      "port": "8080",
      "needs_forc_support": "True",
      "forc_versions": "['v03', 'v02', 'v01']",
      "incompatible_versions": "['Ubuntu 16.04', 'Ubuntu 20.04']",
      "direction": "ingress",
      "protocol": "tcp",
      "securitygroup_name": "_guacamole",
      "securitygroup_description": "Guacamole",
      "securitygroup_ssh": "False",
      "title": "Guacamole",
      "description": "Guacamole is a browser based remote desktop application. version: 1.0.0",
      "logo_url": "https://cloud.denbi.de/wp-content/uploads/2020/02/guacamole-7.png",
      "info_url": "",
      "information_for_display": "{'version': '1.0.0'}"
    }
  }],
  "provisioners":
  [{
    "type": "ansible",
    "playbook_file": "./packer_resenvs.yml",
    "extra_arguments": ["--extra-vars", "resenv=guacamole"]
  }]
}